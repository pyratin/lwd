{"version":3,"sources":["../../../js/server/fns/mongoClientConnect.js"],"names":["Promise","resolve","reject","mongoUrl","process","env","MONGO_URL","dbName","split","slice","MongoClient","connect","useUnifiedTopology","error","client","console","log","trim","db"],"mappings":"AAAA;;;;;;;AAEA;;eAIe,oBAAM;AAEnB,SAAO,IAAIA,OAAJ,CACL,UACEC,OADF,EAEEC,MAFF,EAGK;AAEH,QAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,SAA7B;AAEA,QAAMC,MAAM,GAAGJ,QAAQ,CAACK,KAAT,CACb,IADa,EAGZC,KAHY,CAIX,CAAC,CAJU,EAMX,CANW,CAAf;AASA,WAAO,IAAIC,qBAAYC,OAAhB,CACLR,QADK,EAEL;AACES,MAAAA,kBAAkB,EAAE;AADtB,KAFK,EAKL,UACEC,KADF,EAEEC,MAFF,EAGK;AAEH,UACED,KADF,EAEE;AAEA,eAAOX,MAAM,CACXW,KADW,CAAb;AAGD,OATE,CAWH;;;AACAE,MAAAA,OAAO,CAACC,GAAR,CACE,8CAEIb,QAFJ,oBAKGc,IALH,EADF;AASA,aAAOhB,OAAO,CACZa,MAAM,CAACI,EAAP,CACEX,MADF,CADY,CAAd;AAKD,KAlCI,CAAP;AAoCD,GArDI,CAAP;AAuDD,C","sourcesContent":["'use strict';\n\nimport {\n  MongoClient\n} from 'mongodb';\n\nexport default () => {\n\n  return new Promise(\n    (\n      resolve,\n      reject\n    ) => {\n\n      const mongoUrl = process.env.MONGO_URL;\n\n      const dbName = mongoUrl.split(\n        /\\//\n      )\n        .slice(\n          -1\n        )[\n          0\n        ];\n\n      return new MongoClient.connect(\n        mongoUrl,\n        {\n          useUnifiedTopology: true\n        },\n        (\n          error,\n          client\n        ) => {\n\n          if (\n            error\n          ) {\n\n            return reject(\n              error\n            );\n          }\n\n          // eslint-disable-next-line no-console\n          console.log(\n            `\n              mongoClientConnect: ${\n                mongoUrl\n              }\n            `\n              .trim()\n          );\n\n          return resolve(\n            client.db(\n              dbName\n            )\n          );\n        }\n      );\n    }\n  );\n};\n"],"file":"mongoClientConnect.js"}