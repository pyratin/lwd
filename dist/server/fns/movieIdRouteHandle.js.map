{"version":3,"sources":["../../../js/server/fns/movieIdRouteHandle.js"],"names":["db","req","res","movieId","params","_id","ObjectID","undefined","movie","render","title","path"],"mappings":"AAAA;;;;;;;;;;;;;AAEA;;AAIA;;AAGA;;;2FAGe,iBACbA,EADa,EAEbC,GAFa,EAGbC,GAHa;AAAA;AAAA;AAAA;AAAA;AAAA;AAMPC,YAAAA,OANO,GAMGF,GAAG,CAACG,MAAJ,CAAWD,OANd;AAAA;AAAA,mBAQO,yBAClB;AACEE,cAAAA,GAAG,EAAE,IAAIC,iBAAJ,CACHH,OADG;AADP,aADkB,EAMlBI,SANkB,EAOlBP,EAPkB,CARP;;AAAA;AAQPQ,YAAAA,KARO;AAAA;AAAA,mBAkBP,4BACJA,KADI,CAlBO;;AAAA;AAAA,6CAsBNN,GAAG,CAACO,MAAJ,CACL,OADK,EAEL;AACEC,cAAAA,KAAK,EAAEF,KAAK,CAACE,KADf;AAEEC,cAAAA,IAAI,EAAEH,KAAK,CAACG;AAFd,aAFK,CAtBM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["'use strict';\n\nimport {\n  ObjectID\n} from 'mongodb';\n\nimport {\n  movieFindOne\n} from '~/js/server/data/movie';\nimport movieWrite from \n  '~/js/server/schema/mutations/fns/movieWrite';\n\nexport default async (\n  db,\n  req,\n  res\n) => {\n\n  const movieId = req.params.movieId;\n\n  const movie = await movieFindOne(\n    {\n      _id: new ObjectID(\n        movieId\n      )\n    },\n    undefined,\n    db\n  );\n\n  await movieWrite(\n    movie\n  );\n\n  return res.render(\n    'index',\n    {\n      title: movie.title,\n      path: movie.path\n    }\n  );\n};\n"],"file":"movieIdRouteHandle.js"}