{"version":3,"sources":["../../../../../js/server/schema/mutations/fns/movieWrite.js"],"names":["outputFolderPathString","movieId","_id","base64","Promise","resolve","reject","outputPath","path","join","process","cwd","trim","fs","writeFile","replace","error","res"],"mappings":"AAAA;;;;;;;;;AAEA;;AACA;;AAEA,IAAMA,sBAAsB,GAAG,cAA/B;;eAGE,wBAKK;AAAA,MAHIC,OAGJ,QAHDC,GAGC;AAAA,MAFDC,MAEC,QAFDA,MAEC;AAEH,SAAO,IAAIC,OAAJ,CACL,UACEC,OADF,EAEEC,MAFF,EAGK;AAEH,QAAMC,UAAU,GAAGC,iBAAKC,IAAL,CACjBC,OAAO,CAACC,GAAR,EADiB,EAEjBX,sBAFiB,EAGjB,wBAEIC,OAFJ,sBAKGW,IALH,EAHiB,CAAnB;;AAWA,WAAOC,eAAGC,SAAH,CACLP,UADK,EAELJ,MAAM,CAACY,OAAP,CACE,0BADF,EAEE,EAFF,CAFK,EAML,QANK,EAOL,UACEC,KADF,EAEEC,GAFF,EAGK;AAEH,UACED,KADF,EAEE;AAEA,eAAOV,MAAM,CACXU,KADW,CAAb;AAGD;;AAED,aAAOX,OAAO,CACZY,GADY,CAAd;AAGD,KAxBI,CAAP;AA0BD,GA3CI,CAAP;AA6CD,C","sourcesContent":["'use strict';\n\nimport fs from 'fs';\nimport path from 'path';\n\nconst outputFolderPathString = 'media/output';\n\nexport default (\n  (\n    {\n      _id: movieId,\n      base64\n    }\n  ) => {\n\n    return new Promise(\n      (\n        resolve,\n        reject\n      ) => {\n\n        const outputPath = path.join(\n          process.cwd(),\n          outputFolderPathString,\n          `\n            ${\n              movieId\n            }.gif\n          `\n            .trim()\n        );\n\n        return fs.writeFile(\n          outputPath,\n          base64.replace(\n            /^data:image\\/gif;base64,/,\n            ''\n          ),\n          'base64',\n          (\n            error,\n            res\n          ) => {\n\n            if (\n              error\n            ) {\n\n              return reject(\n                error\n              );\n            }\n\n            return resolve(\n              res\n            );\n          }\n        );\n      }\n    );\n  }\n);\n"],"file":"movieWrite.js"}