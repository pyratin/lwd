{"version":3,"sources":["../../../../../js/server/schema/mutations/fns/mediawikiFetch.js"],"names":["fnDelayRun","query","mediawikiFetch","trim","then","res","status","json"],"mappings":"AAAA;;;;;;;;;AAEA;;AAEA;;AAEA,IAAMA,UAAU,GAAG,SAAbA,UAAa,CACjBC,KADiB,EAEd;AAEH,SAAO,4BACLC,cADK,EAEL,IAFK,EAGL,kCAEID,KAFJ,YAKGE,IALH,EAHK,EASLF,KATK,CAAP;AAWD,CAfD;;AAiBA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CACrBD,KADqB,EAElB;AAEH,SAAO,2BACLA,KADK,EAGJG,IAHI,CAIH,UACEC,GADF,EAEK;AAEH,QACEA,GAAG,CAACC,MAAJ,KACA,GAFF,EAGE;AAEA,aAAON,UAAU,CACfC,KADe,CAAjB;AAGD;;AAED,WAAOI,GAAG,CAACE,IAAJ,EAAP;AACD,GAnBE,WAsBH,YAAM;AAEJ,WAAOP,UAAU,CACfC,KADe,CAAjB;AAGD,GA3BE,CAAP;AA6BD,CAjCD;;eAmCeC,c","sourcesContent":["'use strict';\n\nimport nodeFetch from 'node-fetch';\n\nimport fnDelayRunFn from './fnDelayRun';\n\nconst fnDelayRun = (\n  query\n) => {\n\n  return fnDelayRunFn(\n    mediawikiFetch,\n    2000,\n    `\n      mediawikiFetch: ${\n        query\n      }\n    `\n      .trim(),\n    query\n  );\n};\n\nconst mediawikiFetch = (\n  query\n) => {\n\n  return nodeFetch(\n    query\n  )\n    .then(\n      (\n        res\n      ) => {\n\n        if (\n          res.status !==\n          200\n        ) {\n\n          return fnDelayRun(\n            query\n          );\n        }\n\n        return res.json();\n      }\n    )\n    .catch(\n      () => {\n\n        return fnDelayRun(\n          query\n        );\n      }\n    );\n};\n\nexport default mediawikiFetch;\n"],"file":"mediawikiFetch.js"}